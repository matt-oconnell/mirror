<!DOCTYPE html>
<html>
	<head>
		<title>Socket: Orient</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link href='http://fonts.googleapis.com/css?family=Roboto:300,400,500,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="styles/styles.css">
        <style>
            body {
                width: 100%;
            }
            .wheel {
                width: 50%;
                margin: 0 auto;
                display: block;
            }
        </style>
	</head>

	<body>

    <img src="img/wheel.jpg" class="wheel">

	<p></p>

        <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
        <script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>

        <script>
            // z = alpha
            // x = beta
            var socket = io();
            socket.on('orient', function(orient) {
                var z = - (Math.round( orient.alpha * 10 ) / 10) - 90;
//                z = z < -180 ? 180 - z : z;
                var x =  - (Math.round( orient.beta * 10 ) / 10);
                $('.wheel').css({
                    'transform': 'rotateZ(' + z + 'deg) rotateX(' + x + 'deg)'
                });
//                $('body p').html(orient.absolute+'<br><br>'+orient.alpha+'<br><br>'+orient.beta+'<br><br>'+orient.gamma);
            });
        </script>

	</body>
</html>
